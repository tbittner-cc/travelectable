{% extends "base.html" %}

{% block content %}

<div class="mx-auto my-4 w-max border-8 border-travelnavy rounded-lg">

    <svg class="w-80 h-[275px]">
        <path d="M10,275 Q155,-250 310,275" class="stroke-slate-300 fill-slate-300" />
    </svg>

    <div class="w-[300px] ml-[10px] border-l-8 border-r-8 border-slate-300 pt-12 px-2">
        <div class="flex flex-col">
            {% set first_class_row_length = airplane['seat_configuration']['first_class'] | length %}
            {% for row in airplane['seat_configuration']['first_class'] %}
            {% set row_loop = loop %}
            <div class="flex">
                {% for aisle in row %}
                {% if aisle | length > 0 %}
                <div class="w-24 flex justify-between mb-4">
                    {% for j in aisle %}
                    <div class="bg-slate-400 w-9 h-9 rounded text-white">
                        <div class="text-xs text-center pt-1">{{ j }}</div>
                        <div class="mx-auto mt-1 border-[0.25px] border-white w-7 h-2 rounded"></div>
                    </div>
                    {% endfor %}
                </div>
                {% else %}
                <div class="flex-grow text-center">{{ row_loop.index }}</div>
                {% endif %}
                {% endfor %}
            </div>
            {% endfor %}

            <div class="my-5"></div>
            
            {% for row in airplane['seat_configuration']['economy_class'] %}
            {% set row_loop = loop %}
            <div class ="flex">
                {% for aisle in row %}
                {% if aisle | length > 0 %}
                <div class="w-24 flex justify-between mb-4">
                    {% for j in aisle %}
                    {% if j in unavailable_seats %}
                    <div class="w-7 h-7 rounded bg-slate-400 text-white">
                    {% else %}
                    <div class="w-7 h-7 rounded bg-travelnavy hover:bg-travelblue hover:cursor-pointer text-white">
                    {% endif %}
                        <div class="text-xs text-center pt-1">{{ j }}</div>
                        <div class="mx-auto mt-[1px] border-[0.25px] border-white w-6 h-1 rounded"></div>
                    </div>
                    {% endfor %} 
                </div>
                {% else %}
                <div class="flex-grow text-center">{{  first_class_row_length + row_loop.index }}</div>
                {% endif %}
                {% endfor %}
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}